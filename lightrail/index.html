<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="scripts/parallax.js/parallax.min.js"></script>
		<script src="scripts/jquery.imagemapster.min.js"></script>
		<script src="scripts/howler.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/qtip2/3.0.3/jquery.qtip.min.js"></script>
		<script src="https://cdn.rawgit.com/noelboss/featherlight/1.7.6/release/featherlight.min.js" type="text/javascript" charset="utf-8"></script>
		<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/qtip2/3.0.3/jquery.qtip.min.css" />
		<link href="https://cdn.rawgit.com/noelboss/featherlight/1.7.6/release/featherlight.min.css" type="text/css" rel="stylesheet" />
		<style>
			body {
				font-size: 1.3em;
			}
			
			img#blueline_image {
				z-index: -1;
			}
			
			.stop-icon {
				background-image: url('circle-icon-white.png');
				/*background-size: 16px 16px;*/
				background-size: 59px 59px;
				position: absolute;
				width: 59px;
				height: 59px;
				z-index: 0;
			}
			
			.stop-icon:hover {
				background-image: url('circle-icon-red.png');
			}
			
			.qtip{
				position:absolute;
				left:-28000px;
				top:-28000px;
				display:none;
				max-width:500px;
				font-weight: bold;
				font-family: sans-serif;
				font-size:40px;
				line-height:40px;
				text-align: center;
				padding:10px
			}
		</style>
	</head>
	
	<body>
		<map name="blueline" id="blueline_map" style="position: relative;">
			<area data-key="target-field" shape="rect" coords="264,354,319,409" data-station="Target Field" />
			<area data-key="warehouse-district" shape="rect" coords="382,440,437,495" data-station="Warehouse District" />
			<area data-key="nicollet-mall" shape="rect" coords="477,505,522,560" data-station="Nicollet Mall" />
			<area data-key="government-plaza" shape="rect" coords="560,564,615,619" data-station="Government Plaza" />
			<area data-key="us-bank-stadium" shape="rect" coords="684,612,739,667" data-station="U.S. Bank Stadium" />
			<area data-key="franklin-ave" shape="rect" coords="818,789,873,844" data-station="Franklin Avenue" />
			<area data-key="west-bank" shape="rect" coords="914,683,969,738" data-station="West Bank" />
			<area data-key="east-bank" shape="rect" coords="1178,648,1233,703" data-station="East Bank" />
			<area data-key="stadium-village" shape="rect" coords="1331,619,1386,674" data-station="Stadium Village" />
		</map>
		
		<div id="blueline_imagegroup" style="position: relative;">
			<img src="blueline_map.png" width="1680" height="1204" alt="Blueline Map" id="blueline_image" usemap="#blueline">
		</div>
		
		<div id="popups" style="display: none;">
			<div id="popup-target-field" style="width: 100%;">
				<img src="images/target-field.jpg" style="width: 50%; float: left; padding-right: 20px; padding-bottom: 20px;" />
				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas in massa erat. Vivamus nisi ex, gravida eget ante nec, volutpat imperdiet nunc. Nunc aliquam tristique diam, vitae commodo augue. Nam rhoncus scelerisque nisl, nec lobortis erat eleifend sit amet. Curabitur rutrum porttitor facilisis. Nulla facilisi. Etiam scelerisque commodo sapien sollicitudin condimentum. Suspendisse nulla orci, auctor non risus vel, pretium lacinia ex. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos.</p>

				<p>Aliquam in purus id orci rhoncus interdum lacinia a justo. Quisque turpis augue, sodales vel velit et, pharetra ultricies lectus. Suspendisse interdum quam quis erat tristique ornare. Etiam id laoreet ipsum. Sed ornare semper consequat. Suspendisse potenti. Cras dignissim massa ligula, ut lacinia ipsum rutrum in. Praesent ac erat risus. Etiam vitae vulputate sapien. Nunc in sapien diam. Nam accumsan commodo euismod.</p>

				<p>In in libero auctor, semper nulla ac, dictum nibh. Fusce consectetur tincidunt purus, a laoreet ipsum ultrices et. Morbi lacinia nulla ut risus gravida accumsan eget sit amet erat. Donec eu sem turpis. Phasellus mollis laoreet nibh eu dictum. Ut odio velit, facilisis bibendum tincidunt non, dapibus non lorem. Mauris nec fringilla metus, sed rutrum mauris. Praesent nulla ante, tristique vitae congue a, aliquam et libero.</p>

				<p>Pellentesque sit amet tortor euismod, pellentesque nisl nec, varius ipsum. Aliquam quis lectus et quam commodo semper sit amet sit amet mi. Nam vehicula neque mauris, eu porta sem elementum quis. Duis dignissim efficitur elit, a mattis lectus maximus sed. Donec malesuada gravida orci ac ornare. Nam in lobortis dui, porta laoreet sem. Fusce ac turpis sed nunc rhoncus laoreet a at ligula. Nunc vel arcu turpis. Suspendisse laoreet iaculis lectus, ac vehicula libero consequat tristique. Etiam faucibus bibendum ligula sit amet placerat. Etiam nec dolor tempus, semper ante vel, placerat turpis. Pellentesque blandit, nisi vitae commodo mattis, ante nulla feugiat risus, sed imperdiet dui dolor id arcu. Vivamus varius quis justo non fermentum.</p>
			</div>
		</div>
		
		<script>
		$('area').each(function(item) {
			var coords = $(this).attr('coords').split(',');
			
			$('#blueline_imagegroup').append('<div class="stop-icon" data-station="' + $(this).attr('data-station') + '" data-key="' + $(this).attr('data-key') + '" style="top: ' + (coords[1] - 2) + 'px; left: ' + (coords[0] - 2) + 'px;" />');
		});
		
		$('.stop-icon').qtip({ // Grab some elements to apply the tooltip to
			content: {
				attr: 'data-station'
			},
			position: {
				my: 'bottom center', // at the bottom right of...
				at: 'top center'
			},
		});
		
		$('.stop-icon').click(function(data) {
			(new Howl({
			    src: ['demo-audio.mp3']
				//src: [$(this).attr('data-key')]
			})).play();

			$.featherlight($('#popup-' + $(this).attr('data-key')));
			
			//$( "#popup-" + $(this).attr('data-key')).dialog({
			//	title: $(this).attr('data-station'),
			//});
		});
		</script>
	</body>
</html>