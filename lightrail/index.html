<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/jquery-ui.min.js"></script>
		<script src="scripts/parallax.js/parallax.min.js"></script>
		<script src="scripts/jquery.imagemapster.min.js"></script>
		<script src="scripts/howler.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/qtip2/3.0.3/jquery.qtip.min.js"></script>
		<link rel="stylesheet" type="text/css" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.10.3/themes/cupertino/jquery-ui.min.css" />
		<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/qtip2/3.0.3/jquery.qtip.min.css" />
		<style>
			body {
				font-size: 1.3em;
			}
			img#blueline_image {
				z-index: -1;
			}
			
			.stop-icon {
				background-image: url('circle-icon-white.png');
				/*background-size: 16px 16px;*/
				background-size: 59px 59px;
				position: absolute;
				width: 59px;
				height: 59px;
				z-index: 0;
			}
			
			.stop-icon:hover {
				background-image: url('circle-icon-red.png');
			}
		</style>
	</head>
	
	<body>
		<map name="blueline" id="blueline_map" style="position: relative;">
			<area data-key="target-field" shape="rect" coords="264,354,319,409" data-station="Target Field" />
			<area data-key="warehouse-district" shape="rect" coords="382,440,437,495" data-station="Warehouse District" />
			<area data-key="nicollet-mall" shape="rect" coords="477,505,522,560" data-station="Nicollet Mall" />
			<area data-key="government-plaza" shape="rect" coords="560,564,615,619" data-station="Government Plaza" />
			<area data-key="us-bank-stadium" shape="rect" coords="684,612,739,667" data-station="U.S. Bank Stadium" />
			<area data-key="franklin-ave" shape="rect" coords="818,789,873,844" data-station="Franklin Avenue" />
			<area data-key="A" shape="rect" coords="914,683,969,738" data-station="A" />
			<area data-key="B" shape="rect" coords="1178,648,1233,703" data-station="B" />
			<area data-key="C" shape="rect" coords="1331,619,1386,674" data-station="C" />
		</map>
		
		<div id="blueline_imagegroup" style="position: relative;">
			<img src="blueline_map.png" width="1680" height="1204" alt="Blueline Map" id="blueline_image" usemap="#blueline">
		</div>
		
		<div id="popups" style="display: none;">
			<div id="popup-target-field" style="width: 100%;">
				<img src="images/target-field.jpg" style="width: 100%;" />
			</div>
		</div>
		
		<script>
		$('area').each(function(item) {
			var coords = $(this).attr('coords').split(',');
			
			$('#blueline_imagegroup').append('<div class="stop-icon" data-station="' + $(this).attr('data-station') + '" data-key="' + $(this).attr('data-key') + '" style="top: ' + (coords[1] - 2) + 'px; left: ' + (coords[0] - 2) + 'px;" />');
		});
		
		$('.stop-icon').qtip({ // Grab some elements to apply the tooltip to
			content: {
				attr: 'data-station'
			},
			position: {
				my: 'bottom center', // at the bottom right of...
				at: 'top center'
			}
		});
		
		$('.stop-icon').click(function(data) {
			(new Howl({
			    src: ['demo-audio.mp3']
				//src: [$(this).attr('data-key')]
			})).play();

			$( "#popup-" + $(this).attr('data-key')).dialog({
				title: $(this).attr('data-station'),
			});
		});
		</script>
	</body>
</html>